--PURPOSE    : Delete data from ROLE PERMISSION, SUBJECT FUNCTIONAL MAP, FUNCTIONAL AREA, SUBJECT AREA - OLD DATA.
--AUTHOR     : Chetan
--CREATED ON : 30-APR-2014
delete from ROLE_PERMISSION_MAPPING where SUBJECT_AREA in (select id from MST_ADMIN_SUBJECT_AREA where name in ('BUConfigurations','ClaimSubmissionandProcessing','FieldModifications','Inventory','PartReturnManagement','Read-OnlyAccesstoSLMS','Registration/Transfer','Reports','WarrantyAdmin'))
/
delete from SUBJECT_FUNC_AREA_MAPPING where SUBJECT_AREA in (select id from MST_ADMIN_SUBJECT_AREA where name in ('BUConfigurations','ClaimSubmissionandProcessing','FieldModifications','Inventory','PartReturnManagement','Read-OnlyAccesstoSLMS','Registration/Transfer','Reports','WarrantyAdmin'))
/
DELETE  FROM MST_ADMIN_FNC_AREA a
WHERE NOT  EXISTS (SELECT 1 FROM role_permission_mapping b WHERE b.FUNCTIONAL_AREA=a.id )
AND name in ('additionalAttributes','bUConfigurationsSetup','claimTab','costCategoryConfiguration','createCustomer','createLabelsforinventory','createWarrantyClaimDealer','createWarrantyClaimProcessor',
'dataManagement','dealerGroups','defineClaimSearchQuery','defineInventorySearchQuery','definePartReturnSearchQuery','deliveryReport','eligility','emailNotification','extensionforApproval',
'fieldModificationsTab','fieldNotification','inventoryTab','listModels','listOfValues','maintainUOMMappings','manageAdditionalLabour','manageAlarmCode','manageBusinessCondition',
'manageBusinessConfigurations','manageBusinessRule','manageBusinessRuleGroups','manageClaimPayment','manageCustomReports','manageFailureStructure','manageFlatRates','manageFreight/Shippers',
'manageGroups','manageInclusiveJobCodes','manageLOASchemes','manageLaborSplit','manageUploads/Download','manageUserAvailability','manageWarehouses','manageWarrantyPolicies','miscellaneousParts',
'multiClaimMaintenance','partReturnConfiguration','partReturnTab','pendingFieldModificationUpdate','preDefinedClaimSearch','preDefinedFPISearch','preDefinedInventorySearch',
'preDefinedPartReturnsSearch','predefinedSearch(Items)','quickInventorySearch','reOpenClaim','readOnlyAccesstoSLMS','reducedCoverage','registerMajorComponent','reportTab',
'requests','retailsearch','stock/Retail','stocksearch','submitFieldModificationClaim','switchUser','viewLabels','viewSupplier','waiveLateFee','warrantyAdminTab') 
/
delete from MST_ADMIN_SUBJECT_AREA where name in ('BUConfigurations','ClaimSubmissionandProcessing','FieldModifications','Inventory','PartReturnManagement','Read-OnlyAccesstoSLMS','Registration/Transfer','Reports','WarrantyAdmin')
/
--For New Data
delete from ROLE_PERMISSION_MAPPING where SUBJECT_AREA in (select id from MST_ADMIN_SUBJECT_AREA where name in ('warrantyAdmin','claims','inventory','fPI','partReturns','partsRecovery','processorRecovery','contractAdmin','items','reports','dealerInformation','dRApproval/Transfer','settings','accounts'))
/
delete from SUBJECT_FUNC_AREA_MAPPING where SUBJECT_AREA in (select id from MST_ADMIN_SUBJECT_AREA where name in ('warrantyAdmin','claims','inventory','fPI','partReturns','partsRecovery','processorRecovery','contractAdmin','items','reports','dealerInformation','dRApproval/Transfer','settings','accounts'))
/
--delete from MST_ADMIN_FNC_AREA where name in ('warrantyAdminWarrantyAdminTab','warrantyAdminManageBusinessConfigurations','warrantyAdminManageWarrantyPolicies','warrantyAdminPolicyDefinition','warrantyAdminManageFlatRates','warrantyAdminLaborRates','warrantyAdminTravelRates','warrantyAdminItemPriceModifiers','warrantyAdminManagePartsCost','warrantyAdminPartReturnConfiguration','warrantyAdminManageStateMandates','warrantyAdminManageClaimPayment','warrantyAdminCreateClaimPaymentModifier','warrantyAdminConfigureClaimPaymentDefinition','warrantyAdminManageFailureStructure','warrantyAdminSeriesFailureHierarchy','warrantyAdminListFaultLocations','warrantyAdminListServiceProcedures','warrantyAdminFaultFound/CausedByAssociation','warrantyAdminMaintainFailureDetailofFailureURL','warrantyAdminManageGroups','warrantyAdminItemGroups','warrantyAdminDealerGroups','warrantyAdminUserGroups','warrantyAdminManageBusinessRuleGroups','warrantyAdminClaimsProcessing','warrantyAdminClaimProcessorRouting','warrantyAdminDSMRouting','warrantyAdminAdvisorRouting','warrantyAdminManageBusinessRules','warrantyAdminClaimProcessorRouting','warrantyAdminRecoveryClaimProcessorRouting','warrantyAdminClaimsProcessing','warrantyAdminEntryValidations','warrantyAdminDSMRouting','warrantyAdminAdvisorRouting','warrantyAdminProcessorAuthority','warrantyAdminManageBusinessConditions','warrantyAdminWarrantyBusinessConditions','warrantyAdminManageUserAvailability','warrantyAdminProcessor','warrantyAdminDSM','warrantyAdminDSMAdvisor','warrantyAdminRecoveryProcessor','warrantyAdminFieldProductImprovement','warrantyAdminFieldProductImprovement','warrantyAdminRelatedFPIsManagement','warrantyAdminManageWarehouses','warrantyAdminListOfValues','warrantyAdminManageDisplayedFaultCode','warrantyAdminAdditionalAttributes','warrantyAdminCreate/UpdateAttributes','warrantyAdminAssociate/DissociatePartAttributes','Associate/DissociateFlatRatesAttributes','Associate/DissociateClaimedInventoryAttributes','warrantyAdminAssociate/DissociateClaimAttributes','warrantyAdminManageFreight/Shippers','warrantyAdminViewSupplier','warrantyAdminViewLabels','warrantyAdminManageLaborSplit','warrantyAdminCreateLabelsforinventory','warrantyAdminCreateLabelsforModels','warrantyAdminMiscellaneousParts','warrantyAdminManageMiscellaneousParts','warrantyAdminConfigureMiscellaneousParts','warrantyAdminCostCategoryConfiguration','warrantyAdminManageLOASchemes','warrantyAdminManageAdditionalLaborEligibility','claimsClaimTab','claimsMultiClaimMaintenance','claimsClaimAttributes','claimsTransfer/Re-process','claimsAdviceRequest','claimsAppeals','claimsDraftClaim','claimsForwardedExternally','claimsForwardedInternally','claimsInProgress','claimsOnHoldForPartReturn','claimsPartShippedNotReceived','claimsPendingAuthorization','claimsNew','claimsRejectedPartReturn','claimsReplies','claimsServiceManagerReview','claimsTransferred','claimsWaitingForLabor','claimsPendingRecoveryInitiation','claimsDefineSearchQuery','claimsPredefinedSearch','inventoryInventoryTab','inventoryStock','inventoryRetailed','inventoryDefineSearchQuery','inventoryPredefinedStockSearch','inventoryPredefinedRetailSearch','fPIFPITab','fPIPendingFPIUpdateRequests','fPIPredefinedSearch','partReturnsPartReturnsTab','partReturnsDuePartsReceipt','partReturnsDuePartsInspection','partReturnsAwaitingShipmentforDealer','partReturnsShipmentGeneratedForDealer','partReturnsDealerRequestedPartsShipped','partReturnsRequiredPartsfromDealer','partReturnsDealerRequestedPart','partReturnsDefineSearchQuery','partReturnsPredefinedSearch','partsRecoveryPartsRecoveryTab','partsRecoveryAwaitingShipment','partsRecoveryAwaitingShipmentToWarehouse','partsRecoveryAwaitingShipmenttoSupplier','partsRecoverySupplierPartsShipped','partsRecoveryShipmentGenerated','partsRecoveryPredefinedSearch','processorRecoveryProcessorRecoveryTab','processorRecoveryClaimsDueForRecovery','processorRecoveryNew','processorRecoveryInProgress','processorRecoveryNotForRecoveryRequest','processorRecoveryNotForRecoveryResponse','processorRecoveryTransferred','processorRecoveryReopened','processorRecoveryClaimsUnderRecovery','processorRecoveryDisputed','processorRecoveryAccepted','processorRecoveryAwaitingSupplierResponse','processorRecoveryNotForRecovery','processorRecoveryMultiClaimMaintenance','processorRecoveryReadyForDebit','processorRecoveryDefineSearchQuery','processorRecoveryPreDefinedSearch','contractAdminContractAdminTab','contractAdminMaintainSupplierContracts','contractAdminManageBusinessConditions','contractAdminManageBusinessRules','contractAdminRecoveryClaimProcessorRouting','contractAdminManageSuppliers','contractAdminViewPartSourceHistory','contractAdminViewSupplier','contractAdminManageGroups','contractAdminUserGroups','itemsItemsTab','itemsDefinedSearchQuery','reportsReportsTab','reportsVendorRecoveryReport','reportsManageUploads/Downloads','reportsUploadManagement','reportsDownloadManagement','dealerInformationDealerSummary','dRApproval/TransferDRApproval/TransferTab','dRApproval/TransferDeliveryReport','dRApproval/TransferDraft','dRApproval/TransferPendingforApproval','dRApproval/TransferForwardedToDealer','dRApproval/TransferRejected','dRApproval/TransferReplies','dRApproval/TransferResubmitted','dRApproval/TransferUnitTransfer','dRApproval/TransferDraft','dRApproval/TransferPendingforApproval','dRApproval/TransferForwardedToDealer','dRApproval/TransferRejected','dRApproval/TransferReplies','dRApproval/TransferResubmitted','dRApproval/TransferDeleted','settingsSettingsTab','settingsProfile','settingsUserManagement','settingsCreateUser','settingsUpdateUser','settingsSeriesReftoCertification','settingsCreateInternalUser','settingsUpdateInternalUser','settingsManageUserBusinessUnitMapping','settingsEmailSubscription','settingsMapServiceProviderBusinessUnit','settingsMapSupplierBusinessUnit','settingsManageRoles','accountsAccountsTab','accountsRemoteInteractionsLogs','accountsMonthEndScheduler')
/
delete from MST_ADMIN_SUBJECT_AREA where name in ('warrantyAdmin','claims','inventory','fPI','partReturns','partsRecovery','processorRecovery','contractAdmin','items','reports','dealerInformation','dRApproval/Transfer','settings','accounts')
/